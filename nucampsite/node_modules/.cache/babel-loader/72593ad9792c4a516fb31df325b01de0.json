{"ast":null,"code":"import*as ActionTypes from'./ActionTypes';import{baseURL}from'../shared/baseURL';export var fetchCampsites=function fetchCampsites(){return function(dispatch){dispatch(campsitesLoading());return fetch(baseURL+'campsites').then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){var errMess=new Error(error.message);throw errMess;}).then(function(response){return response.json();}).then(function(campsites){return dispatch(addCampsites(campsites));}).catch(function(error){return dispatch(campsitesFailed(error.message));});};};export var campsitesLoading=function campsitesLoading(){return{type:ActionTypes.CAMPSITES_LOADING};};export var campsitesFailed=function campsitesFailed(errMess){return{type:ActionTypes.CAMPSITES_FAILED,payload:errMess};};export var addCampsites=function addCampsites(campsites){return{type:ActionTypes.ADD_CAMPSITES,payload:campsites};};export var addComment=function addComment(comment){return{type:ActionTypes.ADD_COMMENT,payload:comment};};export var postComment=function postComment(campsiteId,rating,author,text){return function(dispatch){var newComment={campsiteId:campsiteId,rating:rating,author:author,text:text};newComment.date=new Date().toISOString();return fetch(baseURL+'comments',{method:'POST',body:JSON.stringify(newComment),headers:{'Content-Type':'application/json'}}).then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){return dispatch(addComment(response));}).catch(function(error){console.log('post comment',error.message);alert('Your comment could not be posted\\n Error: + error.message');});};};export var postFeedback=function postFeedback(feedback){return function(dispatch){return fetch(baseURL+'feedback',{method:'POST',body:JSON.stringify({feedback:feedback}),headers:{'Content-Type':'application/json'}}).then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){return alert('Thank you for your feedback: '+response.value);}).catch(function(error){console.log('post feedback',error.message);alert('Your feedback could not be posted\\n Error: + error.message');});};};export var fetchComments=function fetchComments(){return function(dispatch){return fetch(baseURL+'comments').then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){var errMess=new Error(error.message);throw errMess;}).then(function(response){return response.json();}).then(function(comments){return dispatch(addComments(comments));}).catch(function(error){return dispatch(commentsFailed(error.message));});};};export var commentsFailed=function commentsFailed(errMess){return{type:ActionTypes.COMMENTS_FAILED,payload:errMess};};export var addComments=function addComments(comments){return{type:ActionTypes.ADD_COMMENTS,payload:comments};};export var fetchPromotions=function fetchPromotions(){return function(dispatch){dispatch(promotionsLoading());return fetch(baseURL+'promotions').then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){var errMess=new Error(error.message);throw errMess;}).then(function(response){return response.json();}).then(function(promotions){return dispatch(addPromotions(promotions));}).catch(function(error){return dispatch(promotionsFailed(error.message));});};};export var promotionsLoading=function promotionsLoading(){return{type:ActionTypes.PROMOTIONS_LOADING};};export var promotionsFailed=function promotionsFailed(errMess){return{type:ActionTypes.PROMOTIONS_FAILED,payload:errMess};};export var addPromotions=function addPromotions(promotions){return{type:ActionTypes.ADD_PROMOTIONS,payload:promotions};};export var partnersLoading=function partnersLoading(){return{type:ActionTypes.PARTNERS_LOADING};};export var partnersFailed=function partnersFailed(errMess){return{type:ActionTypes.PARTNERS_FAILED,payload:errMess};};export var addPartners=function addPartners(partners){return{type:ActionTypes.ADD_PARTNERS,payload:partners};};export var fetchPartners=function fetchPartners(){return function(dispatch){dispatch(partnersLoading());return fetch(baseURL+'partners').then(function(response){if(response.ok){return response;}else{var error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.response=response;throw error;}},function(error){var errMess=new Error(error.message);throw errMess;}).then(function(response){return response.json();}).then(function(partners){return dispatch(addPartners(partners));}).catch(function(error){return dispatch(partnersFailed(error.message));});};};","map":{"version":3,"sources":["C:/Users/courtney/Desktop/3-React/nucampsite/src/redux/ActionCreators.js"],"names":["ActionTypes","baseURL","fetchCampsites","dispatch","campsitesLoading","fetch","then","response","ok","error","Error","status","statusText","errMess","message","json","campsites","addCampsites","catch","campsitesFailed","type","CAMPSITES_LOADING","CAMPSITES_FAILED","payload","ADD_CAMPSITES","addComment","comment","ADD_COMMENT","postComment","campsiteId","rating","author","text","newComment","date","Date","toISOString","method","body","JSON","stringify","headers","console","log","alert","postFeedback","feedback","value","fetchComments","comments","addComments","commentsFailed","COMMENTS_FAILED","ADD_COMMENTS","fetchPromotions","promotionsLoading","promotions","addPromotions","promotionsFailed","PROMOTIONS_LOADING","PROMOTIONS_FAILED","ADD_PROMOTIONS","partnersLoading","PARTNERS_LOADING","partnersFailed","PARTNERS_FAILED","addPartners","partners","ADD_PARTNERS","fetchPartners"],"mappings":"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","sourcesContent":["import * as ActionTypes from './ActionTypes';\r\nimport { baseURL } from '../shared/baseURL';\r\n\r\nexport const fetchCampsites = () => (dispatch) => {\r\n\tdispatch(campsitesLoading());\r\n\r\n\treturn fetch(baseURL + 'campsites')\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tconst errMess = new Error(error.message);\r\n\t\t\t\tthrow errMess;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((campsites) => dispatch(addCampsites(campsites)))\r\n\t\t.catch((error) => dispatch(campsitesFailed(error.message)));\r\n};\r\n\r\nexport const campsitesLoading = () => ({\r\n\ttype: ActionTypes.CAMPSITES_LOADING\r\n});\r\n\r\nexport const campsitesFailed = (errMess) => ({\r\n\ttype: ActionTypes.CAMPSITES_FAILED,\r\n\tpayload: errMess\r\n});\r\n\r\nexport const addCampsites = (campsites) => ({\r\n\ttype: ActionTypes.ADD_CAMPSITES,\r\n\tpayload: campsites\r\n});\r\n\r\nexport const addComment = (comment) => ({\r\n\ttype: ActionTypes.ADD_COMMENT,\r\n\tpayload: comment\r\n});\r\n\r\nexport const postComment = (campsiteId, rating, author, text) => (dispatch) => {\r\n\tconst newComment = {\r\n\t\tcampsiteId: campsiteId,\r\n\t\trating: rating,\r\n\t\tauthor: author,\r\n\t\ttext: text\r\n\t};\r\n\tnewComment.date = new Date().toISOString();\r\n\r\n\treturn fetch(baseURL + 'comments', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(newComment),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t})\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthrow error;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((response) => dispatch(addComment(response)))\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('post comment', error.message);\r\n\t\t\talert('Your comment could not be posted\\n Error: + error.message');\r\n\t\t});\r\n};\r\n\r\nexport const postFeedback = (feedback) => (dispatch) => {\r\n\treturn fetch(baseURL + 'feedback', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ feedback }),\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t}\r\n\t})\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tthrow error;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((response) => alert('Thank you for your feedback: ' + response.value))\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('post feedback', error.message);\r\n\t\t\talert('Your feedback could not be posted\\n Error: + error.message');\r\n\t\t});\r\n};\r\n\r\nexport const fetchComments = () => (dispatch) => {\r\n\treturn fetch(baseURL + 'comments')\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tconst errMess = new Error(error.message);\r\n\t\t\t\tthrow errMess;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((comments) => dispatch(addComments(comments)))\r\n\t\t.catch((error) => dispatch(commentsFailed(error.message)));\r\n};\r\n\r\nexport const commentsFailed = (errMess) => ({\r\n\ttype: ActionTypes.COMMENTS_FAILED,\r\n\tpayload: errMess\r\n});\r\n\r\nexport const addComments = (comments) => ({\r\n\ttype: ActionTypes.ADD_COMMENTS,\r\n\tpayload: comments\r\n});\r\n\r\nexport const fetchPromotions = () => (dispatch) => {\r\n\tdispatch(promotionsLoading());\r\n\r\n\treturn fetch(baseURL + 'promotions')\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tconst errMess = new Error(error.message);\r\n\t\t\t\tthrow errMess;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((promotions) => dispatch(addPromotions(promotions)))\r\n\t\t.catch((error) => dispatch(promotionsFailed(error.message)));\r\n};\r\n\r\nexport const promotionsLoading = () => ({\r\n\ttype: ActionTypes.PROMOTIONS_LOADING\r\n});\r\n\r\nexport const promotionsFailed = (errMess) => ({\r\n\ttype: ActionTypes.PROMOTIONS_FAILED,\r\n\tpayload: errMess\r\n});\r\n\r\nexport const addPromotions = (promotions) => ({\r\n\ttype: ActionTypes.ADD_PROMOTIONS,\r\n\tpayload: promotions\r\n});\r\n\r\nexport const partnersLoading = () => ({\r\n\ttype: ActionTypes.PARTNERS_LOADING\r\n});\r\n\r\nexport const partnersFailed = (errMess) => ({\r\n\ttype: ActionTypes.PARTNERS_FAILED,\r\n\tpayload: errMess\r\n});\r\n\r\nexport const addPartners = (partners) => ({\r\n\ttype: ActionTypes.ADD_PARTNERS,\r\n\tpayload: partners\r\n});\r\n\r\nexport const fetchPartners = () => (dispatch) => {\r\n\tdispatch(partnersLoading());\r\n\r\n\treturn fetch(baseURL + 'partners')\r\n\t\t.then(\r\n\t\t\t(response) => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst error = new Error(`Error ${response.status}: ${response.statusText}`);\r\n\t\t\t\t\terror.response = response;\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\tconst errMess = new Error(error.message);\r\n\t\t\t\tthrow errMess;\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((response) => response.json())\r\n\t\t.then((partners) => dispatch(addPartners(partners)))\r\n\t\t.catch((error) => dispatch(partnersFailed(error.message)));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}